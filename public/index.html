<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
  
   
    <script src="https://code.jquery.com/jquery-3.5.1.js"></script>
    <script src ="https://cdn.datatables.net/1.10.23/js/jquery.dataTables.min.js"></script>
    <script src ="https://cdn.datatables.net/responsive/2.2.6/js/dataTables.responsive.min.js"></script>
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.23/css/jquery.dataTables.min.css">

  
    
     <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
 
    <!--

      //these gives you error on console and onclick does not work
       <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
      <script src="https://dev.baltimorecountymd.gov/sebin/f/x/jquery.dataTables.js"></script>
     
    <script src="https://dev.baltimorecountymd.gov/sebin/f/h/dataTables.responsive.js"></script>
  <script src="https://dev.baltimorecountymd.gov/sebin/l/s/dotgov-responsivetable.min.js"></script>
    -->
 

    
      
    
      <link
      rel="stylesheet"
      type="text/css"
       href="https://dev.baltimorecountymd.gov/sebin/j/f/dotgov.min.css"/> 

      
    <script type="text/javascript">
   
      $(document).ready(function() {
     

  $('.dataTables_filter').css(
     {'text-align':'left'}
  );
  $('.dataTables_filter input[type="search"]').css(
     {'width':'500px','display':'inline-block'}
  );
 


      $('.content').on('click', '#responsive-main-table1 tbody td.toggler' ,function (e) {
   
        $('.child-'+$(this).attr('data-road-closure')).toggle();
        var dateVal =  $(this).attr('closure_date');
        var intersection =  $(this).attr('closure_intersection');
   
      
       if (!$.fn.dataTable.isDataTable("#responsive-main-table1")) {
        var table =   $("#responsive-main-table1").DataTable({ 
           "paging": false, "searching":false,
           responsive: true,
          info: false,
          order: [[1, "asc"]],
          columnDefs: [
            {
              targets: 0,
              orderable: false
            }
          ]});
       }
       else{
        var table =   $("#responsive-main-table1").DataTable();
       }

 
   var tr = $(this).closest('tr');
 
        var row = table.row( tr );
        if ( row.child.isShown() ) {
            // This row is already open - close it
            row.child.hide();
            tr.removeClass('shown');
        }
        else {
            // Open this row
            
           row.child( format(dateVal,intersection) ).show();
            tr.addClass('shown');
           
       
        }
      });



  function format ( dateVal ,intersection) {
    // `d` is the original data object for the row
    return '<table cellpadding="5" cellspacing="0" border="0" style="padding-left:50px;">'+
        `<tr id=${Date.now()} >`+
            '<td>Closed:</td>'+
            '<td>'+dateVal+'</td>'+
            
        '</tr>'+
        `<tr id=${Date.now() + 1} >`+
            '<td>Between:</td>'+
            '<td>'+intersection+'</td>'+
        '</tr>'
    
    '</table>';
}

 
  });

      </script> 
   
  </head>
  <body>
     <div id="root" class="content"></div>
          
  </body>
 
</html>
